# AdBlocker 完整安装包

## 如果您不想折腾编译环境...

### 方案 A：使用在线编译服务

1. 访问：https://github.com（需要账号）
2. 创建新仓库，上传这些文件：
   - Makefile
   - Tweak.x
   - control
   - AdBlocker.plist

3. 创建 `.github/workflows/build.yml`：

```yaml
name: Build iOS Tweak

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2

    - name: Install Theos
      run: |
        sudo apt update
        sudo apt install -y git curl build-essential fakeroot perl
        sudo git clone --recursive https://github.com/theos/theos.git /opt/theos
        echo "export THEOS=/opt/theos" >> $GITHUB_ENV

    - name: Download iOS SDK
      run: |
        cd /opt/theos/sdks
        sudo curl -LO https://github.com/xybp888/iOS-SDKs/raw/master/iPhoneOS16.5.sdk.tar.xz
        sudo tar -xf iPhoneOS16.5.sdk.tar.xz

    - name: Build
      run: |
        export THEOS=/opt/theos
        make package

    - name: Upload DEB
      uses: actions/upload-artifact@v2
      with:
        name: AdBlocker
        path: packages/*.deb
```

提交后，GitHub Actions 会自动编译，在 Actions 页面下载 deb！

---

### 方案 B：Docker 一键编译（无需 WSL）

**前提**：安装 Docker Desktop for Windows
- 下载：https://www.docker.com/products/docker-desktop

安装后，创建并运行：

```powershell
# 在 PowerShell 中运行
cd C:\Users\gao-huan\Desktop\AdBlockerTweak

# 使用 Docker 编译
docker run --rm -v ${PWD}:/project -w /project ubuntu:22.04 bash -c "
  apt update &&
  apt install -y git curl build-essential fakeroot perl libarchive-tools &&
  git clone --recursive https://github.com/theos/theos.git /opt/theos &&
  cd /opt/theos/sdks &&
  curl -LO https://github.com/xybp888/iOS-SDKs/raw/master/iPhoneOS16.5.sdk.tar.xz &&
  tar -xf iPhoneOS16.5.sdk.tar.xz &&
  cd /project &&
  export THEOS=/opt/theos &&
  make package
"
```

---

### 方案 C：我帮您编译（最简单）

如果您实在不想折腾：

1. 确认 `Tweak.x` 的内容符合您的需求
2. 我可以指导您使用云服务器编译
3. 或者告诉您哪里可以找到类似的现成插件

---

## 您现在想...

A. 继��使用 WSL 方案（最推荐）
   → 运行 `build.bat` 告诉我输出

B. 使用 GitHub Actions 在线编译
   → 我帮您创建完整的 GitHub 配置

C. 使用 Docker 方案
   → 安装 Docker Desktop 后告诉我

D. 了解现有的广告拦截插件
   → 我可以推荐一些成熟的替代品

E. 只是想了解技术原理
   → 我可以详细讲解 Tweak 的工作机制

**请告诉我您选择哪个方案？或者遇到了什么问题？**
