# 方案二：手动打包（无需编译环境）

## ⚠️ 限制说明

这个方法**无法编译 Tweak.x**，但可以：
- 打包已有的 .dylib 文件
- 用于学习 deb 包结构
- 修改现有插件的配置

## 准备工作

下载工具：
1. **7-Zip** - 解压和压缩 deb 包
2. **记事本++** - 编辑文本文件

## 手动创建 deb 包步骤

### 1. 创建目录结构

```
AdBlocker_1.0.0/
├── DEBIAN/
│   ├── control
│   └── postinst
└── Library/
    └── MobileSubstrate/
        └── DynamicLibraries/
            ├── AdBlocker.dylib      # ⚠️ 需要编译生成
            └── AdBlocker.plist
```

### 2. 如果你有现成的 .dylib 文件

如果你从其他地方获得了编译好的 dylib：

```bash
# Windows CMD 或 PowerShell
cd C:\Users\gao-huan\Desktop

# 创建目录
mkdir AdBlocker_manual\DEBIAN
mkdir AdBlocker_manual\Library\MobileSubstrate\DynamicLibraries

# 复制文件
copy AdBlockerTweak\control AdBlocker_manual\DEBIAN\
copy AdBlockerTweak\AdBlocker.plist AdBlocker_manual\Library\MobileSubstrate\DynamicLibraries\
copy 你的.dylib AdBlocker_manual\Library\MobileSubstrate\DynamicLibraries\AdBlocker.dylib
```

### 3. 使用在线编译服务（推荐）

访问这些在线服务编译 Tweak.x：

**iOS Build Box** (需要注册)
- https://iosbuildbox.com/

**Theos Cloud Compiler** (如果可用)
- 上传 Tweak.x
- 自动编译生成 .dylib

### 4. 使用预编译工具

**使用 Docker**（Windows 也可以）：

```powershell
# 安装 Docker Desktop for Windows
# 下载地址: https://www.docker.com/products/docker-desktop

# 运行 Theos 容器
docker run -it --rm -v C:\Users\gao-huan\Desktop\AdBlockerTweak:/project theos/theos

# 在容器内编译
cd /project
make package
```

## 推荐方案对比

| 方案 | 难度 | 所需时间 | 推荐度 |
|------|------|----------|--------|
| **WSL** | ⭐⭐ | 15分钟 | ⭐⭐⭐⭐⭐ |
| **Docker** | ⭐⭐⭐ | 20分钟 | ⭐⭐⭐⭐ |
| **macOS** | ⭐ | 10分钟 | ⭐⭐⭐⭐⭐ |
| **在线服务** | ⭐ | 5分钟 | ⭐⭐⭐ |

## 最简单的方法：使用 WSL

```powershell
# 1. 在 PowerShell（管理员）运行：
wsl --install

# 2. 重启电脑

# 3. 打开"Ubuntu"（从开始菜单）

# 4. 复制粘贴以下命令：
sudo apt update && sudo apt install -y git curl build-essential fakeroot perl && sudo git clone --recursive https://github.com/theos/theos.git /opt/theos && echo "export THEOS=/opt/theos" >> ~/.bashrc && source ~/.bashrc

# 5. 下载 iOS SDK：
cd /opt/theos/sdks && sudo curl -LO https://github.com/xybp888/iOS-SDKs/raw/master/iPhoneOS16.5.sdk.tar.xz && sudo tar -xf iPhoneOS16.5.sdk.tar.xz

# 6. 编译项目：
cd /mnt/c/Users/gao-huan/Desktop/AdBlockerTweak
make package

# 完成！deb 文件在 packages/ 目录
```

## 需要帮助吗？

如果遇到问题，可以：
1. 截图错误信息
2. 告诉我你选择的方案
3. 我会一步步指导你
